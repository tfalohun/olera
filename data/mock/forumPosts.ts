import { ForumPost, ForumAuthor, CareTypeId } from "@/types/forum";

const mockAuthors: ForumAuthor[] = [
  {
    id: "author-1",
    displayName: "Sarah M.",
    avatar: "https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop",
    isAnonymous: false,
    role: "family",
    joinedDate: "2024-03-15",
    postCount: 12,
  },
  {
    id: "author-2",
    displayName: "Anonymous",
    isAnonymous: true,
    role: "family",
    joinedDate: "2024-06-01",
    postCount: 3,
  },
  {
    id: "author-3",
    displayName: "Michael T.",
    avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop",
    isAnonymous: false,
    role: "family",
    joinedDate: "2023-11-20",
    postCount: 28,
  },
  {
    id: "author-4",
    displayName: "Jennifer R.",
    avatar: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop",
    isAnonymous: false,
    role: "caregiver",
    joinedDate: "2024-01-10",
    postCount: 45,
  },
  {
    id: "author-5",
    displayName: "Dr. Amanda Chen",
    avatar: "https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=100&h=100&fit=crop",
    isAnonymous: false,
    role: "expert",
    joinedDate: "2023-08-05",
    postCount: 67,
  },
  {
    id: "author-6",
    displayName: "Robert K.",
    avatar: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop",
    isAnonymous: false,
    role: "family",
    joinedDate: "2024-02-28",
    postCount: 8,
  },
];

export const mockForumPosts: ForumPost[] = [
  {
    id: "post-1",
    slug: "how-to-know-when-its-time-for-memory-care",
    title: "How do I know when it's time for memory care?",
    content: `My mother has been showing signs of dementia for about two years now. She's currently living with us, but we're finding it increasingly difficult to provide the level of care she needs.\n\nShe's started wandering at night, forgets to take her medications, and sometimes doesn't recognize family members. We love having her with us, but I'm worried we're not equipped to keep her safe.\n\nHow did others know when it was time to look into memory care facilities?`,
    excerpt: "My mother has been showing signs of dementia for about two years now. She's currently living with us, but we're finding it increasingly difficult...",
    author: mockAuthors[0],
    careType: "memory-care",
    tags: ["decision-making", "family-support", "safety"],
    createdAt: "2024-12-15T10:30:00Z",
    updatedAt: "2024-12-15T10:30:00Z",
    likeCount: 47,
    commentCount: 2,
    viewCount: 892,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-2",
    slug: "activities-for-loved-ones-with-dementia",
    title: "What activities work best for loved ones with dementia?",
    content: `I'm looking for activity ideas for my dad who has moderate dementia. He used to love woodworking and fishing, but those aren't safe anymore.\n\nWe've tried puzzles but he gets frustrated. Music seems to calm him down. What activities have worked for your family members?`,
    excerpt: "I'm looking for activity ideas for my dad who has moderate dementia. He used to love woodworking and fishing...",
    author: mockAuthors[2],
    careType: "memory-care",
    tags: ["activities", "engagement", "quality-of-life"],
    createdAt: "2024-12-10T14:20:00Z",
    updatedAt: "2024-12-10T14:20:00Z",
    likeCount: 35,
    commentCount: 0,
    viewCount: 567,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-3",
    slug: "questions-to-ask-home-health-agency",
    title: "What questions should I ask when interviewing home health agencies?",
    content: `My father was just discharged from the hospital after hip replacement surgery. The doctor recommended home health care for the next few weeks.\n\nI've never hired a home health agency before and don't know what to look for. What questions should I be asking?`,
    excerpt: "My father was just discharged from the hospital after hip replacement surgery. The doctor recommended home health care...",
    author: mockAuthors[5],
    careType: "home-health",
    tags: ["hiring", "medicare", "post-surgery"],
    createdAt: "2024-12-14T09:15:00Z",
    updatedAt: "2024-12-14T09:15:00Z",
    likeCount: 28,
    commentCount: 1,
    viewCount: 445,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-4",
    slug: "home-health-vs-home-care-difference",
    title: "I'm confused about the difference between home health and home care",
    content: `Can someone explain the difference between home health and home care? My mom needs help after her stroke but I'm not sure which service to look for.`,
    excerpt: "Can someone explain the difference between home health and home care? My mom needs help after her stroke...",
    author: mockAuthors[1],
    careType: "home-health",
    tags: ["comparison", "stroke-recovery", "getting-started"],
    createdAt: "2024-12-12T16:45:00Z",
    updatedAt: "2024-12-12T16:45:00Z",
    likeCount: 52,
    commentCount: 0,
    viewCount: 734,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-5",
    slug: "finding-reliable-home-care-aides",
    title: "How do you find reliable home care aides?",
    content: `We've gone through three different home care aides in the past two months. Either they don't show up, they're on their phones the whole time, or they just don't connect with my grandmother.\n\nI'm exhausted from the constant turnover. How do you find someone reliable who actually cares?`,
    excerpt: "We've gone through three different home care aides in the past two months. Either they don't show up...",
    author: mockAuthors[2],
    careType: "home-care",
    tags: ["hiring", "reliability", "caregiver-matching"],
    createdAt: "2024-12-13T11:30:00Z",
    updatedAt: "2024-12-13T11:30:00Z",
    likeCount: 41,
    commentCount: 0,
    viewCount: 612,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-6",
    slug: "tips-for-convincing-parent-to-accept-help",
    title: "Tips for convincing a stubborn parent to accept home care help?",
    content: `My 82-year-old father insists he doesn't need help, but he's had several falls and isn't eating well. He gets angry whenever we bring up getting a caregiver.`,
    excerpt: "My 82-year-old father insists he doesn't need help, but he's had several falls and isn't eating well...",
    author: mockAuthors[1],
    careType: "home-care",
    tags: ["family-dynamics", "resistance", "communication"],
    createdAt: "2024-12-11T08:00:00Z",
    updatedAt: "2024-12-11T08:00:00Z",
    likeCount: 63,
    commentCount: 0,
    viewCount: 945,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-7",
    slug: "what-to-look-for-assisted-living-tour",
    title: "What should I look for during an assisted living tour?",
    content: `I'm starting to tour assisted living communities for my mom and feel overwhelmed. There are so many to choose from and they all look nice on the surface.\n\nWhat questions should I be asking? What should I look for that they might not show me?`,
    excerpt: "I'm starting to tour assisted living communities for my mom and feel overwhelmed. There are so many to choose from...",
    author: mockAuthors[0],
    careType: "assisted-living",
    tags: ["touring", "selection", "red-flags"],
    createdAt: "2024-12-09T13:20:00Z",
    updatedAt: "2024-12-09T13:20:00Z",
    likeCount: 38,
    commentCount: 0,
    viewCount: 523,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-8",
    slug: "helping-parent-adjust-assisted-living",
    title: "How long does it take for a parent to adjust to assisted living?",
    content: `We moved my mom into assisted living two weeks ago and she calls me crying every day. She says she hates it there and wants to come home.\n\nThe staff says this is normal. How long does the adjustment period typically last?`,
    excerpt: "We moved my mom into assisted living two weeks ago and she calls me crying every day. She says she hates it there...",
    author: mockAuthors[1],
    careType: "assisted-living",
    tags: ["adjustment", "guilt", "transition"],
    createdAt: "2024-12-08T15:45:00Z",
    updatedAt: "2024-12-08T15:45:00Z",
    likeCount: 56,
    commentCount: 1,
    viewCount: 867,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-9",
    slug: "nursing-home-vs-assisted-living-medical-needs",
    title: "When is a nursing home necessary vs assisted living?",
    content: `My dad has Parkinson's and is declining. He's currently in assisted living but they're saying he might need to move to a nursing home soon.`,
    excerpt: "My dad has Parkinson's and is declining. He's currently in assisted living but they're saying he might need to move...",
    author: mockAuthors[3],
    careType: "nursing-homes",
    tags: ["medical-needs", "transitions", "parkinsons"],
    createdAt: "2024-12-07T10:00:00Z",
    updatedAt: "2024-12-07T10:00:00Z",
    likeCount: 29,
    commentCount: 0,
    viewCount: 412,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-10",
    slug: "advocating-for-parent-nursing-home",
    title: "How do you advocate for your parent in a nursing home?",
    content: `My mother is in a nursing home and I'm worried she's not getting enough attention. The staff seems overwhelmed and I've noticed small issues.`,
    excerpt: "My mother is in a nursing home and I'm worried she's not getting enough attention. The staff seems overwhelmed...",
    author: mockAuthors[5],
    careType: "nursing-homes",
    tags: ["advocacy", "quality-of-care", "communication"],
    createdAt: "2024-12-06T14:30:00Z",
    updatedAt: "2024-12-06T14:30:00Z",
    likeCount: 44,
    commentCount: 0,
    viewCount: 589,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-11",
    slug: "convincing-parent-downsize-independent-living",
    title: "How to convince parents to consider independent living?",
    content: `My parents are in their late 70s, still healthy but their house is getting to be too much. Dad can't do the yard work anymore and mom struggles with the stairs.`,
    excerpt: "My parents are in their late 70s, still healthy but their house is getting to be too much...",
    author: mockAuthors[2],
    careType: "independent-living",
    tags: ["downsizing", "family-conversations", "planning-ahead"],
    createdAt: "2024-12-05T09:45:00Z",
    updatedAt: "2024-12-05T09:45:00Z",
    likeCount: 31,
    commentCount: 0,
    viewCount: 378,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-12",
    slug: "what-to-expect-independent-living-costs",
    title: "What should I expect to pay for independent living?",
    content: `I'm helping my mom budget for independent living communities. The costs seem all over the place - some are $2,000/month, others are $6,000+.`,
    excerpt: "I'm helping my mom budget for independent living communities. The costs seem all over the place...",
    author: mockAuthors[0],
    careType: "independent-living",
    tags: ["costs", "budgeting", "financial-planning"],
    createdAt: "2024-12-04T16:15:00Z",
    updatedAt: "2024-12-04T16:15:00Z",
    likeCount: 27,
    commentCount: 0,
    viewCount: 445,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-13",
    slug: "caregiver-burnout-support",
    title: "Dealing with caregiver burnout - I need support",
    content: `I've been caring for my mom with Alzheimer's for three years now. I love her but I'm exhausted. I can't sleep, I've gained weight, and I snapped at her yesterday.\n\nI feel like a terrible daughter but I'm running on empty. How do other caregivers cope?`,
    excerpt: "I've been caring for my mom with Alzheimer's for three years now. I love her but I'm exhausted...",
    author: mockAuthors[1],
    careType: "memory-care",
    tags: ["caregiver-support", "burnout", "self-care"],
    createdAt: "2024-12-03T11:00:00Z",
    updatedAt: "2024-12-03T11:00:00Z",
    likeCount: 89,
    commentCount: 2,
    viewCount: 1234,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-14",
    slug: "medicare-coverage-home-health-explained",
    title: "Medicare coverage for home health - finally explained clearly!",
    content: `After weeks of confusion, I finally understand how Medicare covers home health. Sharing what I learned in case it helps others.\n\n**What Medicare covers:**\n- Skilled nursing care\n- Physical, occupational, and speech therapy\n- Medical social services\n\n**What Medicare does NOT cover:**\n- 24-hour care\n- Meals delivered to your home\n- Homemaker services if that's ALL you need`,
    excerpt: "After weeks of confusion, I finally understand how Medicare covers home health. Sharing what I learned...",
    author: mockAuthors[4],
    careType: "home-health",
    tags: ["medicare", "insurance", "educational"],
    createdAt: "2024-12-02T08:30:00Z",
    updatedAt: "2024-12-02T08:30:00Z",
    likeCount: 124,
    commentCount: 0,
    viewCount: 2156,
    isPinned: false,
    isLocked: false,
  },
  {
    id: "post-15",
    slug: "long-distance-caregiving-tips",
    title: "Long-distance caregiving tips from someone who's been there",
    content: `I live 1,500 miles from my parents and have been managing their care remotely for two years. Here's what I've learned:\n\n1. Build a local team\n2. Technology is your friend\n3. Have backup plans\n4. Visit strategically\n5. Take care of your mental health`,
    excerpt: "I live 1,500 miles from my parents and have been managing their care remotely for two years...",
    author: mockAuthors[3],
    careType: "home-care",
    tags: ["long-distance", "tips", "planning"],
    createdAt: "2024-12-01T13:45:00Z",
    updatedAt: "2024-12-01T13:45:00Z",
    likeCount: 76,
    commentCount: 0,
    viewCount: 945,
    isPinned: false,
    isLocked: false,
  },
];

export function getPostsByCategory(careType?: CareTypeId | "all"): ForumPost[] {
  if (!careType || careType === "all") {
    return [...mockForumPosts].sort(
      (a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()
    );
  }
  return mockForumPosts
    .filter((post) => post.careType === careType)
    .sort(
      (a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()
    );
}

export function getPostBySlug(slug: string): ForumPost | undefined {
  return mockForumPosts.find((post) => post.slug === slug);
}

export function getPinnedPosts(): ForumPost[] {
  return mockForumPosts.filter((post) => post.isPinned);
}

export function getPopularPosts(limit: number = 5): ForumPost[] {
  return [...mockForumPosts]
    .sort((a, b) => b.likeCount - a.likeCount)
    .slice(0, limit);
}

export function getCategoryPostCounts(): Record<CareTypeId, number> {
  const counts: Record<CareTypeId, number> = {
    "home-health": 0,
    "home-care": 0,
    "assisted-living": 0,
    "memory-care": 0,
    "nursing-homes": 0,
    "independent-living": 0,
  };
  mockForumPosts.forEach((post) => {
    counts[post.careType]++;
  });
  return counts;
}
